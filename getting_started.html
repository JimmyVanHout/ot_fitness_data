<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>OT Fitness Data | Getting Started</title>
        <link rel="stylesheet" href="getting_started.css">
    </head>
    <body>
        <div id="title_container">
            <span id="title"><span style="color: #ED7010;">OT Fitness</span> <span style="color: #108DED">Data</span></span>
        </div>
        <div id="nav_bar">
            <div class="nav_bar_element">
                <a href="index.html" class="nav_bar_link">Home</a>
            </div>
            <div class="nav_bar_element">
                <a href="getting_started.html" class="nav_bar_link">Getting Started</a>
            </div>
            <div class="nav_bar_element">
                <a href="data.html" class="nav_bar_link">Data</a>
            </div>
            <div class="nav_bar_element">
                <a href="help.html" class="nav_bar_link">Help</a>
            </div>
        </div>
        <br>
        <h1>Getting Started</h1>
        <ul id="contents" class="list_with_space">
            <li><a href="#about">About</a></li>
            <li><a href="#first-time">First Time</a></li>
            <ul class="list_with_space">
                <li><a href="#set-up-the-gmail-configuration">Set Up the Gmail Configuration</a></li>
                <li><a href="#install-the-program-and-dependencies">Install the Program and Dependencies</a></li>
                <li><a href="#run-and-configure-the-program">Run and Configure the Program</a></li>
            </ul>
            <li><a href="#next-time">Next Time</a></li>
        </ul>
        <h2 id="about">About</h2>
        <p>
            This site analyzes the data from your OrangeTheory Fitness workout summary emails (emails from <code>otbeatreport@orangetheoryfitness.com</code>) and displays the results. <b>Note that this site is not affiliated with OrangeTheory Fitness.</b>
        </p>
        <h3>Highlights</h3>
        <ul>
            <li>
                <p>
                    It runs entirely in your browser, so <b>your data stays on your computer</b>--it is not sent to a server.
                </p>
            </li>
            <li>
                <p>
                    The program that reads the email data <b>currently only works with Gmail email accounts</b>.
                </p>
            </li>
        </ul>
        <h3>How it Works</h3>
        <p>
            Whenever you want to see your newest data on this site, you will:
        </p>
        <ol>
            <li>
                <p>
                    <b>Run</b> a program to extract the data from the workout summary emails.
                </p>
            </li>
            <li>
                <p>
                    <b>Upload</b> the data to this site.
                </p>
            </li>
        </ol>
        <p>
            You will only have to complete the sequence of steps in the <a href="#first-time">First Time</a> section once. After that, running the program is much simpler and faster (see <a href="#next-time">Next Time</a>), and if you use Mac or Linux it is as simple as double-clicking a script you can save to your desktop.
        </p>
        <h2 id="first-time">First Time</h2>
        <p>
            <b>Example video:</b> <b>After</b> creating a new Gmail account and enabling two-factor authentication (the first two steps of the first section below), watch this <a href="https://www.youtube.com/watch?v=ulI7SdcKOCc" target="_blank">example video</a> to see a complete walk-through of how to set up the program for the first time following the steps below.
        </p>
        <p>
            The first time you want to run the data-extracting program and upload your data, you will be:
            <ul>
                <li>
                    <p>
                        <b>Creating a new Gmail account</b> for your workout summary emails
                    </p>
                </li>
                <li>
                    <p>
                        <b>Forwarding <i>past</i> emails</b> from your usual account to the new account using the <b>data-extracting program</b>
                    </p>
                </li>
                <li>
                    <p>
                        <b>Forwarding <i>future</i> emails</b> using a <b>Gmail filter</b> set up on your usual account
                    </p>
                </li>
                <li>
                    <p>
                        <b>Running</b> the program
                    </p>
                </li>
                <li>
                    <p>
                        <b>Uploading</b> the newly created data file to this site, which will analyze and display the data for you
                    </p>
                </li>
            </ul>
        </p>
        <p>
            The program extracts the workout data from the emails to a CSV file. For a more detailed overview of how the program works, read the <a href="https://github.com/JimmyVanHout/otf_data" target="_blank">README file</a> (the next several steps are from that document). Important to note:
        </p>
        <ul>
            <li>
                <p>
                    To avoid potential loss of data, <b>keep the program files within the program directory</b> (this is because the program writes the files <code>config.txt</code> and <code>data.csv</code> and will overwrite any existing files with these names in the same directory).
                </p>
            </li>
            <li>
                <p>
                    <b>Do not modify the program files, including the program directory, in any way</b>. For example, do not rename the program directory.
                </p>
            </li>
        </ul>
        <p>
            Follow the steps below to get started:
        </p>
        <h3 id="set-up-the-gmail-configuration">Set up the Gmail Configuration</h3>
        <ol>
            <li>
                <p>
                    Create a <a href="https://support.google.com/mail/answer/56256?hl=en" target="_blank">new Gmail account</a>. For security purposes, it is recommended that this account should be used only to receive the workout summary emails forwarded from your usual account.
                </p>
            </li>
            <li>
                <p>
                    Enable <a href="https://support.google.com/accounts/answer/185839?hl=en&co=GENIE.Platform%3DDesktop" target="_blank">two-factor authentication</a> on your new Gmail account.
                </p>
            </li>
            <li>
                <p>
                    On the Gmail account that typically receives the workout summary emails, set up a <a href="https://support.google.com/mail/answer/6579?hl=en" target="_blank">filter</a> to forward all future mail from <code>otbeatreport@orangetheoryfitness.com</code> to the new Gmail account you just created. Since a Gmail filter cannot forward <i>past</i> mail, the data-extracting program has the ability to do this.
                </p>
            </li>
            <li>
                <p>
                    In order for the data-extracting program to be able to read from the new Gmail account, you must create an <a href="https://support.google.com/mail/answer/185833?hl=en-GB" target="_blank">application-specific password</a> for this account (requires <a href="https://support.google.com/accounts/answer/185839?hl=en&co=GENIE.Platform%3DDesktop" target="_blank">two-factor authentication</a> to be enabled). <b>Save this password</b> as you will use it whenever you run the program.
                </p>
            </li>
            <li>
                <p>
                    (Optional) If you choose to forward <i>past</i> workout summary emails to your new account (in a later step), then you must create an <a href="https://support.google.com/mail/answer/185833?hl=en-GB" target="_blank">application-specific password</a> for this account as well (requires <a href="https://support.google.com/accounts/answer/185839?hl=en&co=GENIE.Platform%3DDesktop" target="_blank">two-factor authentication</a> to be enabled). You can <a href="https://support.google.com/accounts/answer/1070455?hl=en" target="_blank">delete</a> this password after you have used it to configure the program the first time you run it.
                </p>
            </li>
        </ol>
        <h3 id="install-the-program-and-dependencies">Install the Program and Dependencies</h3>
        <ol>
            <li>
                <p>
                    If you don't have it already, download the <a href="https://www.python.org/downloads/" target="_blank">latest version of Python</a>.
                </p>
            </li>
            <li>
                <p>
                    Open a terminal and run the following on the <a href="help.html#using-the-command-line">command line</a>:
                    <br>
                    <code class="code_block">
                        cd &ltinstall_directory_path&gt
                        git clone https://github.com/JimmyVanHout/otf_data.git
                        pip3 install flask
                        pip3 install bs4
                    </code>
                    <br>
                    where <code>&ltinstall_directory_path&gt</code> is the path of the directory where you want to install the program. For example, if you plan to install the program in your <b>home directory</b>, the <b>first line</b> would be:
                    <br>
                    <code class="code_block">
                        cd ~
                    </code>
                    <br>
                    Note that the <a href="help.html#using-a-run-script">run script example</a> assumes that the install directory is your home directory.
                </p>
            </li>
        </ol>
        <h3 id="run-and-configure-the-program">Run and Configure the Program</h3>
        <ol>
            <li>
                <p>
                    Open a terminal and run the following on the <a href="help.html#using-the-command-line">command line</a>:
                    <br>
                    <code class="code_block">
                        cd &ltprogram_directory_path&gt
                        python3 otf_data.py
                    </code>
                    <br>
                    where <code>&ltprogram_directory_path&gt</code> is the path to the program directory. For example, if you installed the program in your <b>home directory</b>, the <b>first line</b> would be:
                    <br>
                    <code class="code_block">
                        cd ~/otf_data
                    </code>
                </p>
            </li>
            <li>
                When running the program for the first time, a configuration menu will appear.
                <ul>
                    <li>
                        <p>
                            The <b>first checkbox</b> asks whether you want to <b>forward past emails</b> to your new account. If you choose not to forward past emails, you can skip to the next bullet. If you do choose to forward past emails, fill out the section that pops up titled "<b>One-Time Forwarding of All Past OT Beat Report Emails from This Account</b>" with the following information:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    Enter the <b>email address</b> of your <b>usual Gmail account</b> (the forwarding account).
                                </p>
                            </li>
                            <li>
                                <p>
                                    Enter the <b>application-specific password</b> you created for your <b>usual Gmail account</b>.
                                </p>
                            </li>
                            <li>
                                <p>
                                    Confirm the <b>application-specific password</b> you created for your <b>usual Gmail account</b>.
                                </p>
                            </li>
                            <li>
                                <p>
                                    Enter the <b>email address</b> of your <b><i>new</i> Gmail account</b> (the receiving account).
                                </p>
                            </li>
                            <li>
                                <p>
                                    Leave the <b>mailbox</b> field <b>blank</b> (unless you receive the workout summary emails in a mailbox other than your inbox).
                                </p>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Fill out the section titled "<b>Get OT Beat Report Data from This Account</b>" with the following information:
                        </p>
                        <ul>
                            <li>
                                <p>
                                    Enter the <b>email address</b> of your <b>new Gmail account</b>.
                                </p>
                            </li>
                            <li>
                                <p>
                                    Enter the <b>application-specific password</b> you created for your <b>new Gmail account</b>.
                                </p>
                            </li>
                            <li>
                                <p>
                                    Confirm the <b>application-specific password</b> you created for your <b>new Gmail account</b>.
                                </p>
                            </li>
                            <li>
                                <p>
                                    Under "<b>Comma-separated originating email addresses</b>", enter <code>otbeatreport@orangetheoryfitness.com, </code> (including the comma) followed by the address of your <b><i>usual</i> Gmail account</b>.
                                </p>
                            </li>
                            <li>
                                <p>
                                    Leave the <b>mailbox</b> field <b>blank</b> (unless you receive the workout summary emails in a mailbox other than your inbox).
                                </p>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Select the option to <b>only search for new workout summary emails</b> to make the program run <b>faster</b> in the future.
                        </p>
                    </li>
                    <li>
                        <p>
                            After filling out the information, <b>submit</b> the form.
                        </p>
                    </li>
                </ul>
            </li>
        </ol>
        <p>
            The program will run and generate the data file, named <code>data.csv</code>, in the program directory, <code>otf_data</code>. Once the data file has been generated, <b>upload</b> it to the <a href="data.html">Data</a> page of this site. The data will be analyzed and presented to you.
        </p>
        <p>
            Note:
        </p>
        <ul>
            <li>
                <p>
                    If any records contained <b>errors</b>, they will printed to standard output and not included in the file.
                </p>
            </li>
            <li>
                <p>
                    If you <b>accidentally submitted incorrect information</b>, simply delete the <code>config.txt</code> file in the program directory (<code>otf_data</code>) and then run the program again.
                </p>
            </li>
        </ul>
        <h2 id="next-time">Next Time</h2>
        <p>
            <b>Example video:</b> You can watch <a href="https://www.youtube.com/watch?v=ulI7SdcKOCc&t=350s" target="_blank">this part of the example video</a> of how to run the program in the future, after you have already run it once before.
        </p>
        <ol>
            <li>
                <p>
                    <b>Running the program</b> after the first time can be done in either of <b>two</b> ways, so choose <b>one</b> of the following:
                </p>
                <ul>
                    <li>
                        <p>
                            <b>Open a terminal and run</b> the following on the <a href="help.html#using-the-command-line">command line</a> (you will <b>not</b> have to complete the configuration again):
                            <br>
                            <code class="code_block">
                                cd &ltprogram_directory_path&gt
                                python3 otf_data.py
                            </code>
                            <br>
                            where <code>&ltprogram_directory_path&gt</code> is the path to the program directory. For example, if you installed the program in your <b>home directory</b>, the <b>first line</b> would be:
                            <br>
                            <code class="code_block">
                                cd ~/otf_data
                            </code>
                        </p>
                    </li>
                    <li>
                        <p>
                            <b>Alternatively, create a</b> <a href="help.html#using-a-run-script">run script</a>.
                        </p>
                    </li>
                </ul>
            </li>
            <li>
                <p>
                    <b>Upload</b> the data file to the <a href="data.html">Data</a> page.
                </p>
            </li>
        </ol>
        <br>
        <div id="footer">
            <p id="copyright_text">&copy 2022 <a href="https://github.com/JimmyVanHout" target="_blank">Jimmy Van Hout</a></p>
            <p>Other sites: <a href="https://www.simpleweather.net" target="_blank">SimpleWeather.net</a> - Detailed weather forecast</p>
        </div>
    </body>
</html>
